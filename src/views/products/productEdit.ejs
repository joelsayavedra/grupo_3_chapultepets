<%- include("../partials/head") %>

    <head>
        <title>ChapultePets - Registrar Producto</title>
    </head>

    <body class="editar">

        <!-- Configuración del main -->
        <main class="editar">
            <form action="/products/edit/<%=producto.id%>?_method=PUT" method="POST" enctype="multipart/form-data">
                <div class="logo-container">
                    <a href="/">
                        <img src="/img/logo_mobile.png" alt="" class="main-logo">
                    </a>
                </div>
                <p class="mensaje">Edición de un producto existente: <%= producto.name %> </p>

                <!-- <p>
                    <input type="text" name="idArticulo" id="" placeholder="Ingrese ID existente" class="ID"
                        style="width: 100%;" required>
                </p> -->

                <p>
                    <input 
                    type="text" 
                    name="name" 
                    placeholder="Cambiar nombre" 
                    class="nombreArt <%=(locals.errors && errors.name) ? "caja-error" : "" %>"
                    style="width: 100%;"
                    value="<%= locals.old && old.name ? old.name : producto.name; %>"
                    >
                    <% if (locals.errors && errors.name) { %>
                        <p class="errorMessage"><%= errors.name.msg %> </p>                 
                    <% } %>
                </p>

                <p>
                    <label for="category">Categoría: </label>
                    <input 
                    type="text" 
                    name="category" 
                    placeholder=" Cambiar Categoría artículo"
                    class="categoriaArt <%=(locals.errors && errors.category) ? "caja-error" : "" %>" 
                    style="width: 100%;"
                    value="<%= locals.old && old.category ? old.category : `${producto.category.join(", ")}`; %>"
                    >
                    <% if (locals.errors && errors.category) { %>
                        <p class="errorMessage"><%= errors.category.msg %> </p>                 
                    <% } %>
                </p>

                <p>
                    <label for="price">Precio: </label>
                    <input 
                    type="number" 
                    name="price" 
                    min="0" 
                    step="0.01"
                    placeholder="Cambiar Precio" 
                    class="precio <%=(locals.errors && errors.price) ? "caja-error" : "" %>"
                    style="height: 30px; width: 100%;"
                    value=<%= locals.old && old.price ? old.price : producto.price; %>
                    >
                    <% if (locals.errors && errors.price) { %>
                        <p class="errorMessage"><%= errors.price.msg %> </p>                 
                    <% } %>
                </p>

                <p>
                    <label for="brand">Marca: </label>
                    <input 
                    type="text" 
                    name="brand" 
                    placeholder=" Cambiar marca del artículo"
                    class="categoriaArt <%=(locals.errors && errors.brand) ? "caja-error" : "" %>" 
                    style="width: 100%;"
                    value="<%= locals.old && old.brand ? old.brand : producto.brand; %>"
                    >
                    <% if (locals.errors && errors.brand) { %>
                        <p class="errorMessage"><%= errors.brand.msg %> </p>                 
                    <% } %>
                </p>

                <!-- <label for="CategoriaAnimal">Cambiar categoría Animal:</label>
                <select name="CategoriaAnimal"
                style="width: 100%;"
                >
                    <option value="perro">Perro</option>
                    <option value="gato">Gato</option>
                    <option value="ave">Ave</option>
                    <option value="roedor">Roedor</option>
                    <option value="reptil">Reptil</option>
                </select>

                <label for="CategoriaTamaño">Cambiar tamaño:</label>
                <select name="CategoriaTamaño" id="" style="width: 100%;">
                    <option value="pequeño">Pequeño</option>
                    <option value="mediano">Mediano</option>
                    <option value="grande">Grande</option>
                </select> -->

                <p>
                    <label for="description">Descripción del artículo: </label>
                    <textarea 
                    name="description" 
                    placeholder="Descripción nueva" 
                    class="<%=(locals.errors && errors.description) ? "caja-error" : "" %>" 
                    style="width: 100%;"
                    ><%= locals.old && old.description ? old.description : producto.description; %></textarea>
                    <% if (locals.errors && errors.description) { %>
                        <p class="errorMessage"><%= errors.description.msg %> </p>                 
                    <% } %>

                </p>

                <p>
                    <label>Imagen de producto actual: </label>
                    <img
                    src="/img/products/<%=producto.image%>"
                    alt="Imagen de producto actual"
                    style="width: 100%"
                    >
                </p>

                <p class="foto">
                    <label for="avatar">Cambiar Foto del artículo: </label>
                    <input type="file" name="avatar" accept=".jpg" multiple placeholder="Foto" style="width: 100%;"
                    >
                </p>

                <p>
                    <button type="submit" class="" style="width: 100%;">Registrar cambio </button>
                </p>
            </form>
        </main>
        <!-- Configuración del Pie de página -->
        <%- include("../partials/footerFormularioAdmin") %>
    </body>

    </html>